<!DOCTYPE html>
<html>
<head>
    <title>carnaby-modular</title>
    <link rel="stylesheet" type="text/css" href="/bower_components/mocha/mocha.css">
</head>
<body>
<script>
    window.globalConfig = {
        'level-0': {foo: 'bar'},
        'level-2b': {bar: 'baz'}
    }
</script>

    <div id="working-app" data-app>
        <div data-name="level-0" data-module="specs/module-1">
            <div data-name="level-1a" data-module="specs/module-1"></div>
            <div data-name="level-1b" data-module="specs/module-2"></div>
            <div data-name="level-1c" data-module="specs/module-1">
                <div data-name="level-2a" data-module="specs/module-1"></div>
                <div data-name="level-2b" data-module="specs/module-2"></div>
            </div>
            <div data-module="specs/module-1">
                <div data-module="specs/module-1"></div>
                <div data-module="specs/module-2"></div>
            </div>
        </div>
    </div>

    <div id="broken-app" data-app>
        <div data-name="top-level-module" data-module="specs/module-1">
            <div data-module="specs/module-unknown-1"></div>
            <div data-module="specs/module-2">
                <div data-module="specs/module-unknown-2"></div>
                <div data-module="specs/module-unknown-3"></div>
            </div>
        </div>
        <div data-module>
            <div data-module></div>
            <div data-module></div>
        </div>
    </div>

    <div id="mocha"></div>

<script src="/bower_components/mocha/mocha.js"></script>
<script src="/bower_components/requirejs/require.js"></script>

<script>
require.config({
    baseUrl: '/src',
    paths: {
        underscore: '../bower_components/underscore/underscore',
        jquery: '../bower_components/jquery/dist/jquery',
        chai: '../bower_components/chai/chai',
        backbone: '../bower_components/backbone/backbone',
        'backbone.marionette': '../bower_components/backbone.marionette/lib/core/backbone.marionette',
        'backbone.babysitter': '../bower_components/backbone.babysitter/lib/backbone.babysitter',
        'backbone.wreqr': '../bower_components/backbone.wreqr/lib/backbone.wreqr',
        transform: '../bower_components/carnaby-transform/dist/transform'
    }
})

require([
    'chai',
    'jquery',
    'underscore',
    'backbone.marionette',
    'transform',
    'modular'
], function(chai) {
    mocha.setup('bdd')
    require([
        'specs/errors'
    ], function() {
        mocha.run()
    })
})

</script>
<script src="//localhost:35729/livereload.js"></script>
</body>
</html>
